/***************************************************************************
 * Testando a DCT
 * autoras: Lissa Pesci
 *          Miriam Yumi Peixoto
 * compile me: gcc -o teste_dct teste_dct.c teste_imagem.c -lm -ltiff
 **************************************************************************/
#include <stdio.h>
#include <stdlib.h>
#include "imagem.h"

int IMAGE_WIDTH  = 512;
int IMAGE_HEIGHT = 512;


int main () {
	int   **a, **c;
	float **b;
	int   i;
	
	a = aloca_i(N, N);
	b = aloca_f(N, N);
	c = aloca_i(N, N);
		
	a[0][0] = 140; a[0][1] = 144; a[0][2] = 147; a[0][3] = 140; a[0][4] = 140; a[0][5] = 155; a[0][6] = 179; a[0][7] = 175;
	a[1][0] = 144; a[1][1] = 152; a[1][2] = 140; a[1][3] = 147; a[1][4] = 140; a[1][5] = 148; a[1][6] = 167; a[1][7] = 179;
	a[2][0] = 152; a[2][1] = 155; a[2][2] = 136; a[2][3] = 167; a[2][4] = 163; a[2][5] = 162; a[2][6] = 152; a[2][7] = 172;
	a[3][0] = 168; a[3][1] = 145; a[3][2] = 156; a[3][3] = 160; a[3][4] = 152; a[3][5] = 155; a[3][6] = 136; a[3][7] = 160;
	a[4][0] = 162; a[4][1] = 148; a[4][2] = 156; a[4][3] = 148; a[4][4] = 140; a[4][5] = 136; a[4][6] = 147; a[4][7] = 162;
	a[5][0] = 147; a[5][1] = 167; a[5][2] = 140; a[5][3] = 155; a[5][4] = 155; a[5][5] = 140; a[5][6] = 136; a[5][7] = 162;
	a[6][0] = 136; a[6][1] = 156; a[6][2] = 123; a[6][3] = 167; a[6][4] = 162; a[6][5] = 144; a[6][6] = 140; a[6][7] = 147;
	a[7][0] = 148; a[7][1] = 155; a[7][2] = 136; a[7][3] = 155; a[7][4] = 152; a[7][5] = 147; a[7][6] = 147; a[7][7] = 136;

	printf("Input:\n");
	printim(a, 8);
	
	dct2d(a, b);
	
	printf("Result:\n");
	printfm(b, 8);
	
	idct2d(b, c);
	
	printf("Inversa:\n");
	printim(c, 8);
	
	return 0;
}
